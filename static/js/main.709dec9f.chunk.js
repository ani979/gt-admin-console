(this["webpackJsonprepo-bt"]=this["webpackJsonprepo-bt"]||[]).push([[0],{28:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(13),i=n.n(r),s=(n(45),n(46),n(5)),o=n(1),l=function(e){var t=e.doSearch,n=Object(c.useState)("Search by name, email or role"),a=Object(s.a)(n,2),r=a[0],i=a[1];return Object(o.jsx)("span",{children:Object(o.jsx)("input",{className:"form-control",placeholder:r,onChange:function(e){i(e.target.value),t(e.target.value)}})})},u=n(18),d=n(22),j=n(70),b=n(37),h=n.n(b),O=n(38),f=n.n(O),m=function(e){return e.columnHeaders.map((function(e){return Object(o.jsx)("th",{children:e.id},e.id)}))},g=function(e){var t=e.row,n=e.column,a=e.onDataChanged,r=e.isRowInEditMode,i=Object(c.useState)(t[n.id.toLowerCase()]),l=Object(s.a)(i,2),u=l[0],d=l[1];return r?Object(o.jsx)("td",{children:Object(o.jsx)("input",{value:u,onChange:function(e){return function(e){d(e.target.value)}(e)},onKeyDown:function(e){return function(e,t,n){"Enter"===n.key&&(e[t.id.toLowerCase()]=n.target.value,a(e))}(t,n,e)}})}):Object(o.jsx)("td",{children:t[n.id.toLowerCase()]})},x=function(e){var t=e.currentPage,n=e.dataSize,c=e.setPage,a=Math.ceil(n/10),r=function(){t>0&&c(t-1)},i=function(){t<a-1&&c(t+1)};return Object(o.jsx)("nav",{className:"flex-grow-1",children:Object(o.jsxs)("ul",{className:"pagination justify-content-around",children:[Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("li",{className:"page-item",children:Object(o.jsxs)("button",{className:"page-link",onClick:function(){return c(0)},children:[Object(o.jsx)("span",{"aria-hidden":"true",children:"\xab"}),Object(o.jsx)("span",{className:"sr-only",children:"First"})]},"first-page")}),Object(o.jsx)("li",{className:"page-item",children:Object(o.jsxs)("button",{className:"page-link",onClick:r,children:[Object(o.jsx)("span",{"aria-hidden":"true",children:"\u2190"}),Object(o.jsx)("span",{className:"sr-only",children:"Previous"})]},"prev-page")})]}),function(){for(var e=[],t=0;t<a;t++)e.push(t);return e}().map((function(e){var n={borderRadius:"50%"};return t===e&&(n={borderRadius:"50%",backgroundColor:"white",color:"black"}),Object(o.jsx)("li",{className:"page-item",children:Object(o.jsx)("button",{className:"btn btn-primary",style:n,onClick:function(){return c(e)},children:e+1},e)})})),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("li",{className:"page-item",children:Object(o.jsxs)("button",{className:"page-link",onClick:i,children:[Object(o.jsx)("span",{"aria-hidden":"true",children:"\u2192"}),Object(o.jsx)("span",{className:"sr-only",children:"Next"})]},"next-page")}),Object(o.jsx)("li",{className:"page-item",children:Object(o.jsxs)("button",{className:"page-link",onClick:function(){return c(a-1)},children:[Object(o.jsx)("span",{"aria-hidden":"true",children:"\xbb"}),Object(o.jsx)("span",{className:"sr-only",children:"Last"})]},"last-page")})]})]})})},p=(n(28),function(e){var t=e.currentPage,n=e.dataSize,c=e.setPage,a=e.removeSelected;return Object(o.jsxs)("div",{className:"flex-container",children:[Object(o.jsx)("button",{className:"col-md-2 btn btn-danger button-border-rounded",onClick:a,children:"Delete Selected"}),Object(o.jsx)("div",{className:"col-md-2"}),Object(o.jsx)(x,{currentPage:t,dataSize:n,setPage:c})]})}),v=function(e){var t=e.tableData,n=e.onDataChanged,a=e.onDataRemoved,r=Object(c.useState)(0),i=Object(s.a)(r,2),l=i[0],b=i[1],O=Object(c.useState)(!1),x=Object(s.a)(O,2),v=x[0],k=x[1],N=Object(c.useState)(),C=Object(s.a)(N,2),S=C[0],y=C[1],w=Object(c.useState)(),D=Object(s.a)(w,2),P=D[0],E=D[1],F=Object(c.useState)([]),L=Object(s.a)(F,2),R=L[0],z=L[1],I=[{id:"Name"},{id:"Email"},{id:"Role"},{id:"Actions"}];Object(c.useEffect)((function(){var e=10*l;z(t.slice(e,e+10))}),[l,t]),Object(c.useEffect)((function(){0===R.length?b(l>1?l-1:l):b(l)}),[t]),Object(c.useEffect)((function(){var e=t.reduce((function(e,t){return e[t.id]=!1,e}),{});y(e),E(e)}),[t]);var M=function(e){a([e.target.id])},A=function(e){y(Object(d.a)(Object(d.a)({},S),{},Object(u.a)({},e.target.id,e.target.checked)))},B=function(e){var n=t.reduce((function(e,t){return e[t.id]=!1,e}),{});E(Object(d.a)(Object(d.a)({},n),{},Object(u.a)({},e.target.id,!0)))},T=function(e){return Object(o.jsx)("td",{className:"padding-2",children:Object(o.jsx)(j.a,{id:e.id,checked:!!S&&S[e.id],onChange:A,inputProps:{"aria-label":"primary checkbox"}})})};var H=function(e){var t=P[e.id];return I.map((function(c){return"Actions"===c.id?(a=e,Object(o.jsxs)("td",{children:[Object(o.jsx)(h.a,{title:"delete",id:a.id,onClick:M,style:{cursor:"pointer"}})," ","\xa0\xa0",Object(o.jsx)(f.a,{title:"edit",id:a.id,onClick:B,style:{cursor:"pointer"}})]})):function(e,t,n,c){return Object(o.jsx)(g,{row:e,column:t,onDataChanged:n,isRowInEditMode:c})}(e,c,n,t);var a}))},J=R.map((function(e){var t=S&&S[e.id]?"highlighted-row":"";return Object(o.jsxs)("tr",{className:t,children:[T(e),H(e)]},e.id+P[e.id])}));return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("table",{className:"table text-left",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{className:"padding-2",children:Object(o.jsx)(j.a,{name:"checkall",type:"checkbox",checked:v,onChange:function(e){k(e.target.checked);var t=R.reduce((function(t,n){return t[n.id]=e.target.checked,t}),{});y(t)}})}),Object(o.jsx)(m,{columnHeaders:I})]})}),Object(o.jsx)("tbody",{children:J})]}),Object(o.jsx)(p,{currentPage:l,dataSize:t.length,setPage:b,removeSelected:function(){var e=Object.keys(S).map((function(e){if(S[e])return e}));a(e),k(!1)}})]})};var k=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(0),i=Object(s.a)(r,2),u=(i[0],i[1]),d=Object(c.useState)([]),j=Object(s.a)(d,2),b=j[0],h=j[1],O=Object(c.useState)([]),f=Object(s.a)(O,2),m=f[0],g=f[1];Object(c.useEffect)((function(){fetch("https://geektrust.s3-ap-southeast-1.amazonaws.com/adminui-problem/members.json").then((function(e){return e.json()})).then((function(e){h(e),g(e)}))}),[]),Object(c.useEffect)((function(){var e=["name","role","email"];n.length>0?g(b.filter((function(t){return c=t,!(n.length>0)||e.filter((function(e){return c[e].toLowerCase().includes(n.toLowerCase())})).length>0;var c}))):g(b),u(0)}),[n,b]);return Object(o.jsx)("div",{children:Object(o.jsxs)("div",{children:[Object(o.jsx)(l,{doSearch:a},"SearchBar"+b.length),Object(o.jsx)(v,{initialData:b,tableData:m,onDataChanged:function(e){var t=m.map((function(t){return t.id===e.id?e:t}));g(t)},onDataRemoved:function(e){var t=m.filter((function(t){return!e.includes(t.id)})),n=b.filter((function(t){return!e.includes(t.id)}));0===t.length?(g(n),a("")):g(t),h(n)}},"Table"+m.length)]})})};var N=function(){return Object(o.jsx)("div",{className:"App",children:Object(o.jsx)(k,{})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(N,{})}),document.getElementById("root")),C()}},[[53,1,2]]]);
//# sourceMappingURL=main.709dec9f.chunk.js.map